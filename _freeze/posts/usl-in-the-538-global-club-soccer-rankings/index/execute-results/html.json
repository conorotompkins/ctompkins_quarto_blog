{
  "hash": "8030796e6cee4920aea32cbb8092fe03",
  "result": {
    "engine": "knitr",
    "markdown": "---\n# Documentation: https://sourcethemes.com/academic/docs/managing-content/\n\ntitle: \"USL in the 538 Global Club Soccer Rankings\"\nsubtitle: \"\"\nsummary: \"\"\nauthors: [Conor Tompkins]\ntags: [R, USL, Riverhounds]\ncategories: [R, USL, Riverhounds]\ndate: 2018-08-14\nlastmod: 2020-09-26\nfeatured: false\ndraft: false\nexecute: \n  echo: true\n  warning: false\n  message: false\n---\n\n\n*This post was originally run with data from August 2018. 538 does not provide historical rankings, so I had to rerun the code with June 2023 data when I migrated my blog.*\n\n538 recently added the United Soccer League to their [Soccer Power Index ratings](https://projects.fivethirtyeight.com/global-club-soccer-rankings/). I'm a Riverhounds fan, so I wanted to see how the team compared to teams from leagues around the world.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggrepel)\n\ntheme_set(theme_bw())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"https://projects.fivethirtyeight.com/soccer-api/club/spi_global_rankings.csv\", progress = FALSE) %>% \n  group_by(league) %>% \n  mutate(league_spi = median(spi)) %>% \n  ungroup() %>% \n  mutate(league = fct_reorder(league, league_spi))\n\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 641 × 8\n    rank prev_rank name                     league    off   def   spi league_spi\n   <dbl>     <dbl> <chr>                    <fct>   <dbl> <dbl> <dbl>      <dbl>\n 1     1         1 Manchester City          Barcla…  2.79  0.28  92         72.8\n 2     2         2 Bayern Munich            German…  3.04  0.68  87.7       67.6\n 3     3         3 Barcelona                Spanis…  2.45  0.43  86.4       67.0\n 4     4         4 Real Madrid              Spanis…  2.56  0.6   84.4       67.0\n 5     5         5 Liverpool                Barcla…  2.63  0.67  83.9       72.8\n 6     6         6 Arsenal                  Barcla…  2.53  0.61  83.9       72.8\n 7     7         7 Newcastle                Barcla…  2.38  0.53  83.7       72.8\n 8     8         8 Napoli                   Italy …  2.3   0.51  83.2       63.4\n 9     9         9 Borussia Dortmund        German…  2.83  0.84  82.9       67.6\n10    10        10 Brighton and Hove Albion Barcla…  2.47  0.73  80.9       72.8\n# ℹ 631 more rows\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  ggplot(aes(spi, league)) +\n  geom_jitter(aes(color = league), show.legend = FALSE,\n              height = .2,\n              alpha = .7) +\n  geom_jitter(data = df %>% filter(name == \"Pittsburgh Riverhounds\"),\n              show.legend = FALSE,\n              height = .2,\n              alpha = .7) +\n  geom_label_repel(data = df %>% filter(name == \"Pittsburgh Riverhounds\"), \n                   aes(label = name), \n                   size = 3,\n                   show.legend = FALSE,\n                   force = 6) +\n  labs(title = \"538 Soccer Power Index\",\n       subtitle = \"One dot = one team\",\n       y = NULL,\n       x = \"Soccer Power Index\",\n       caption = \"538 data, @conor_tompkins\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=768}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  ggplot(aes(spi, league)) +\n  geom_jitter(aes(color = league), show.legend = FALSE,\n              height = .2,\n              alpha = .7) +\n  labs(title = \"538 Soccer Power Index\",\n       subtitle = \"One dot = one team\",\n       y = NULL,\n       x = \"Soccer Power Index\",\n       caption = \"538 data, @conor_tompkins\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=768}\n:::\n:::\n\n\n\nThis shows the offensive and defensive ratings of each USL team. The Riverhounds are squarely in the #LilleyBall quadrant.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  filter(league == \"United Soccer League\") %>% \n  ggplot(aes(off, def, label = name)) +\n  geom_point() +\n  geom_label_repel(size = 4,\n                   force = 4) +\n  scale_y_reverse() +\n  labs(title = \"538 Soccer Power Index\",\n       y = \"Defensive rating (scale reversed)\",\n       x = \"Offensive rating\",\n       caption = \"538 data, @conor_tompkins\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=1152}\n:::\n:::",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}